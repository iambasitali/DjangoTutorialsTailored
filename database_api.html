<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Django Tailored</title>
        <!-- Mobile Metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

        <!-- Web Fonts  -->
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800|Shadows+Into+Light" rel="stylesheet" type="text/css">

        <!-- Vendor CSS -->
        <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.css" />
        <link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.css" />
        <link rel="stylesheet" href="assets/vendor/magnific-popup/magnific-popup.css" />
        <link rel="stylesheet" href="assets/vendor/bootstrap-datepicker/css/datepicker3.css" />

        <!-- Specific Page Vendor CSS -->
        <link rel="stylesheet" href="assets/vendor/jquery-ui/css/ui-lightness/jquery-ui-1.10.4.custom.css"/>
        <link rel="stylesheet" href="assets/vendor/bootstrap-multiselect/bootstrap-multiselect.css" />
        <link rel="stylesheet" href="assets/vendor/morris/morris.css" />

        <!-- Theme CSS -->
        <link rel="stylesheet" href="assets/css/theme.css" />

        <!-- Skin CSS -->
        <link rel="stylesheet" href="assets/css/skins/default.css" />

        <!-- Theme Custom CSS -->
        <link rel="stylesheet" href="assets/css/theme-custom.css">

        <!-- Head Libs -->
        <script src="assets/vendor/modernizr/modernizr.js"></script>
    </head>
    <body>
        <section class="body">
            <!-- start: header -->
            <header class="header">
                <div class="logo-container">
                    <a href="index.html"  class="logo">
                        <img src="assets/images/logo.png" height="35" alt="Django Tutorials" />
                    </a>
                    <div class="visible-xs toggle-sidebar-left" data-toggle-class="sidebar-left-opened" data-target="html" data-fire-event="sidebar-left-opened">
                        <i class="fa fa-bars" aria-label="Toggle sidebar"></i>
                    </div>
                </div>
            </header>
            <!-- end: header -->
            <div class="inner-wrapper">
                <!-- start: sidebar -->
                <aside id="sidebar-left" class="sidebar-left">

                    <div class="sidebar-header">
                        <div class="sidebar-title">
                            Django Tailored List
                        </div>
                        <div class="sidebar-toggle hidden-xs" data-toggle-class="sidebar-left-collapsed" data-target="html" data-fire-event="sidebar-left-toggle">
                            <i class="fa fa-bars" aria-label="Toggle sidebar"></i>
                        </div>
                    </div>

                    <div class="nano">
                        <div class="nano-content">
                            <nav id="menu" class="nav-main" role="navigation">
                                <ul class="nav nav-main">
                                    <li>
                                        <a href="index.html">
                                            <span>Installing Django</span>
                                        </a>
                                        <a href="create_project.html">
                                            <span>Create Project</span>
                                        </a>
                                        <a href="create_first_app.html">
                                            <span>Create First App</span>
                                        </a>
                                        <a href="database_connectivity.html">
                                            <span>Connectivity to Database</span>
                                        </a>
                                        <a href="create_models.html">
                                            <span>Creating Models</span>
                                        </a>
                                        <a href="activating_models.html">
                                          <span>Activating Models</span>
                                        </a>
                                        <a href="database_api.html">
                                          <span>Database API</span>
                                        </a>
                                        <a href="django_admin.html">
                                          <span>Django Admin</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                    </div>

                </aside>
                <!-- end: sidebar -->
                <section role="main" class="content-body">
                    <header class="page-header">
                        <h2>Database API</h2>
                    </header>
                    <style>
                        .highlight {
                            font-size: 14px;
                            font-size: 1.4rem;
                            border: 1px solid #EAEAEA;
                            background: #F4F4F4;
                            background: #f8f8f8;
                            overflow: auto;
                            border-radius: 4px;
                            margin: 25px 0;
                        }
                        p{
                            font-size: 18px;
                            padding-left: 40px;
                            padding-right: 40px;
                        }
                        .body-ul{
                            margin-left: 80px;
                            font-size: 16px;
                        }
                        .code-block-caption {
                            background: #34495e;
                            color: white;
                            font-family: "Fira Mono", Consolas, Menlo, Monaco, "Courier New", Courier, monospace;
                            font-variant-ligatures: no-common-ligatures;
                            text-rendering: optimizeSpeed;
                            font-size: 1em;
                            padding: 5px 20px;
                            border-radius: 4px 4px 0 0;
                        }
                    </style>
                    <h1>Database API:-</h1>
                    <p>Now let us interact with Django shell and try to understand different Database APIs provided
                            by django. To start django shell use following command:</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">python manage.py shell</span>
                            </pre>
                        </div>
                    </div>
                    <p>We’re using this instead of simply typing “python”, because manage.py sets the
                        DJANGO_SETTINGS_MODULE environment variable, which gives Django the Python import path to
                        your todo/settings.py file.</p>
                    <p>Once you’re in the shell, explore the database API:</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> from todo_app.models import Category, Item # import the model classes that we created in Creating Model Lesson</span>
                                <span class="n"># Till now we haven't created any Categories yet so,</span>
                                <span class="n">>>> Category.objects.all()</span>
                                <span class="n">&ltQuerySet []&gt</span>
                                <span></span>
                                <span class="n"># Create a new Category</span>
                                <span class="n"># To do so we need to provide datetime in pub_date field.</span>
                                <span class="n"># For that we need to import timezone.</span>
                                <span class="n"># With timezone.now() we can provide datetime object for the pub_date field.</span>
                                <span class="n">>>> from django.utils import timezone</span>
                                <span class="n">>>> c = Category(name="Shopping", pub_date=timezone.now())</span>
                                <span></span>
                                <span class="n"># To save the python QuerySet object into the database we need to expicitly call .save() method on the object. Like:</span>
                                <span>c.save()</span>
                                <span></span>
                                <span># Now it has id that is assigned to this object in database</span>
                                <span>c.id</span>
                                <span>1</span>
                                <span></span>
                                <span># You can also access the other field values like we accessed the id:</span>
                                <span>c.name</span>
                                <span>'Shopping'</span>
                                <span>c.pub_date</span>
                                <span>datetime.datetime(2021, 8, 19, 20, 58, 18, 108288, tzinfo=&ltUTC&gt)</span>
                                <span></span>
                                <span># You can also change the field value saved in database. But after that you need to explicitly call .save() method on the object again.</span>
                                <span>c.name = 'Grocery'</span>
                                <span>c.save()</span>
                                <span></span>
                                <span># Now to get all the Category objects present in database we can use .object.all() on Category class</span>
                                <span>Category.object.all()</span>
                                <span>&ltQuerySet [&ltCategory&gt: Category object (1)&gt]&gt</span>
                            </pre>
                        </div>
                    </div>
                    <p>As you can see &ltCategory&gt: Category object (1)&gt is not readable and also doesn't look
                        quite nice to present like this way. So to solve this problem we need to define __str__()
                        function in our model classes.
                    </p>
                    <div class="literal-block-wrapper docutils container" id="id2">
                    <div class="code-block-caption">
                        <span class="caption-text">todo_app/models.py</span>
                    </div>
                    <div class="highlight-python notranslate">
                        <div class="highlight" style="margin-top: 0px">
                            <pre style="position: relative;">
                                <span>from django.db import models</span>
                                <span></span>
                                <span>class Category(models.Model):</span>
                                    <span># Previous Code</span>
                                    <span>def __str__(self):</span>
                                        <span>return self.name</span>
                                <span></span>
                                <span>class Item(models.Model):</span>
                                    <span># Previous Code</span>
                                    <span>def __str__(self):</span>
                                        <span>return self.text</span>
                            </pre>
                        </div>
                    </div>
                    </div>
                    <p>Now if you start shell and get all Category objects you will see something like below:</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> from todo_app.models import Category, Item # import the model classes that we created in Creating Model Lesson</span>
                                <span class="n">>>> Category.objects.all()</span>
                                <span class="n">&ltQuerySet [&ltCategory: Shopping&gt]&gt</span>
                            </pre>
                        </div>
                    </div>
                </section>

        <!-- Vendor -->
        <script src="assets/vendor/jquery/jquery.js"></script>
        <script src="assets/vendor/jquery-browser-mobile/jquery.browser.mobile.js"></script>
        <script src="assets/vendor/bootstrap/js/bootstrap.js"></script>
        <script src="assets/vendor/nanoscroller/nanoscroller.js"></script>
        <script src="assets/vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
        <script src="assets/vendor/magnific-popup/magnific-popup.js"></script>
        <script src="assets/vendor/jquery-placeholder/jquery.placeholder.js"></script>

        <!-- Specific Page Vendor -->
        <script src="assets/vendor/jquery-ui/js/jquery-ui-1.10.4.custom.js"></script>
        <script src="assets/vendor/jquery-ui-touch-punch/jquery.ui.touch-punch.js"></script>
        <script src="assets/vendor/jquery-appear/jquery.appear.js"></script>
        <script src="assets/vendor/bootstrap-multiselect/bootstrap-multiselect.js"></script>
        <script src="assets/vendor/jquery-easypiechart/jquery.easypiechart.js"></script>
        <script src="assets/vendor/flot/jquery.flot.js"></script>
        <script src="assets/vendor/flot-tooltip/jquery.flot.tooltip.js"></script>
        <script src="assets/vendor/flot/jquery.flot.pie.js"></script>
        <script src="assets/vendor/flot/jquery.flot.categories.js"></script>
        <script src="assets/vendor/flot/jquery.flot.resize.js"></script>
        <script src="assets/vendor/jquery-sparkline/jquery.sparkline.js"></script>
        <script src="assets/vendor/raphael/raphael.js"></script>
        <script src="assets/vendor/morris/morris.js"></script>
        <script src="assets/vendor/gauge/gauge.js"></script>
        <script src="assets/vendor/snap-svg/snap.svg.js"></script>
        <script src="assets/vendor/liquid-meter/liquid.meter.js"></script>
        <script src="assets/vendor/jqvmap/jquery.vmap.js"></script>
        <script src="assets/vendor/jqvmap/data/jquery.vmap.sampledata.js"></script>
        <script src="assets/vendor/jqvmap/maps/jquery.vmap.world.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.africa.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.asia.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.australia.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.europe.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.north-america.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.south-america.js"></script>

        <!-- Theme Base, Components and Settings -->
        <script src="assets/js/theme.js"></script>

        <!-- Theme Custom -->
        <script src="assets/js/theme.custom.js"></script>

        <!-- Theme Initialization Files -->
        <script src="assets/js/theme.init.js"></script>

        <script>
            $('document').ready(function (){
                $('#home-drop-down').addClass('nav-active nav-expanded');
                $('#create-first-app').addClass('nav-active');
            });
        </script>
    </body>
</html>