<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Django Tailored</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./gcp/prettify.css">
    <link rel="stylesheet" type="text/css" href="./gcp/skins/sons-of-obsidian.css">
    <link rel="stylesheet" type="text/css" href="font-styles.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="text/javascript" src="./gcp/prettify.js"></script>
    <script>
    $(document).ready(function() {
        $('[data-toggle="popover"]').popover({ html: true });
    });
    </script>
</head>

<body onload="PR.prettyPrint()" cz-shortcut-listen="true">
    <div class="container">
        <main class="col-12 p-3 bd-content" role="main">
                <h4 class="text-muted"><u>Django Templates:</u></h4>
                    <p>In the previous section, we have successfully created a <code>View</code> function and display an <em>Http</em> response on the browser.
                        This section will guide you, how you can create a <code>HTML</code> page in Django <em><strong>(also called template)</strong></em> and use that <strong>template</strong> to display <strong>Static</strong> as well as <strong>Dynamic</strong> content. 
                        <br><br>In the app the templating engine which we are using is <code>Jinja2</code>. There are some other third
                        party packages, but we will use <code>Jinja2</code> for its smooth and easy-to-use availability. Now for our <em>todo_app</em> we need to create a <strong>templates' directory</strong> in base <em>todo</em> folder. This folder will cantain all <code>HTML</code> files.</p> <br>Let create a new file <code>index.html</code> in <code>todo/templates</code> directory. <em>(The directory structure will look-alike below)</em>
                    </p>
                    <div class="highlight">
                        <pre class="prettyprint">todo/</pre><pre class="prettyprint pre-highlight">  -templates/<br>     index.html<br></pre><pre class="prettyprint">  -todo_app/<br>     migrations/<br>         __init__.py<br>     __init__.py<br>     admin.py<br>     apps.py<br>     models.py<br>     tests.py<br>     views.py<br></pre><pre class="prettyprint">  -todo/<br>     __init__.py<br>     settings.py<br>     urls.py<br>     asgi.py<br>     wsgi.py<br>  -manage.py</pre>
                    </div>
    
                    <p><em>Plain Text: <code class="hg code-highlight-grey">STATIC Content</code></em></p>
                    <p><strong>Plain Text</strong></p>
                    <p>Open <code>index.html</code> and fill with below <code>HTML</code> basic code:</p>
                    <div class="highlight">
                        <pre class="prettyprint pre-highlight">todo/templates/index.html</pre>
                        <pre class="prettyprint"><br>&lt;!DOCTYPE html&gt;<br>&lt;html lang="en"&gt;<br>    &lt;head&gt;<br>    &lt;meta charset="UTF-8"&gt;<br>        &lt;title&gt;Index&lt;/title&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;h4&gt;My first name is John. My last name is Doe.&lt;/h4&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;
                        </pre>
                    </div>
                    <p>As our <code>HTML</code> code is ready so now open <code>views.py</code> and write <code>index()</code> function like below:</p>
                    <div class="highlight">
                        <pre class="prettyprint pre-highlight">todo/todo_app/views.py</pre>
                        <pre class="prettyprint"><br/>def index(request):<br/>    return render(request, 'index.html')       
                        </pre>
                    </div>

                    <p>Make sure you have added the <code>render</code> at the top of the <code>Views.py</code> file, otherwise it will show error.</p>
                    <div class="highlight">
                        <pre class="prettyprint pre-highlight">from django.shortcuts import render</pre>
                        </pre>
                    </div>

                    <p>As you can see we passed the newly created template <code>index.html</code> as parameter to <code>render()</code>. Now you will see below results, when open browser at <code>http://127.0.0.1:8000/todo_app/</code></p>
                    <div class="highlight" style="text-align: center">
                        <h5>Browser: Static Response (http://127.0.0.1:8000/todo_app/)</h5>
                        <img src="./assets/images/static.png">
                    </div>
                    
                    <br><p><em>Variable: <code class="hg code-highlight-grey">DYNAMIC Content</code></em></p>
                    
                    <p>For <strong>Dynamic</strong> content on webpage we use <code>context</code> and pass it in <code>view</code>. A <strong>context</strong> is dictionary object passed to template consisting of key <em>(variable name)</em> and value <em>(variable value)</em>. To have a clear understanding, update the <code>index.html</code> code like below:</p>
                    <div class="highlight">
                        <pre class="prettyprint pre-highlight">todo/templates/index.html</pre>
                        <pre class="prettyprint"><br>&lt;!DOCTYPE html&gt;<br>&lt;html lang="en"&gt;<br>    &lt;head&gt;<br>    &lt;meta charset="UTF-8"&gt;<br>        &lt;title&gt;Index&lt;/title&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;h4&gt;My first name is {{ first_name }}. My last name is {{ last_name }}.&lt;/h4&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;
                        </pre>
                    </div>
                    <p>In above code we have added two variable <code>first_name</code> and <code>last_name</code>. Now we only need to pass these two variables as <strong>context</strong>> in <code>views.py</code>.</p>
                        
                    <p>Now open the <code>views.py</code> and update the code for <code>index()</code> function like below:</p>
                    <div class="highlight">
                        <pre class="prettyprint pre-highlight">todo/todo_app/views.py</pre>
                        <pre class="prettyprint"><br/>def index(request):<br/>    context = {<br>       'first_name' : 'Tom',<br>       'last_name' : 'Henry'<br>    }<br>    return render(request, 'index.html', context)
                        </pre>
                    </div>

                    <p>Django track any string as variable if it is surrounded by <strong>{{ }}</strong>. Like in above-example <code>first_name</code> and <code>last_name</code>> and replace them with the value provided in <em><strong>view's function</strong></em>.</p>
                    <p>As you can see we passed the newly created template <code>index.html</code> as parameter to <code>render()</code>. Now you will see below results, when open browser at <code>http://127.0.0.1:8000/todo_app/</code></p>
                    <div class="highlight" style="text-align: center">
                        <h5>Browser: Dynamic Response (http://127.0.0.1:8000/todo_app/)</h5>
                        <img src="./assets/images/dynamic.png">
                    </div>
                    <p>In the above example the content is generated <em><strong>dynamically.</strong></em>Both the names <code>first_name</code> <em>Tom</em> and <code>last_name</code> <em>Henry</em> are passed from <code>views.py</code>.</p>
                    <br>
                    <p>Now lets create an example related to our <em><strong>todo_app</strong></em>. We are assuming that we need to show <code>Category</code> list in our page. So first change the <code>index.html</code> code like below:</p>
                       <div class="highlight">
                    <pre class="prettyprint">&lt;h4&gt;Awesome Todo list&lt;/h4&gt;<br/>&lt;div&gt;<br/>    &lt;ul&gt;<br/>        {% for category in categories %}<br/>        &lt;li&gt;<br/>            &lt;a href="{{ category.id }}/"&gt;{{ category.name }}&lt;/a&gt;<br/>        &lt;/li&gt;<br/>        {% endfor %}<br/>    &lt;/ul&gt;<br/>&lt;/div&gt;
                    </pre>
                </div>
                <br>
                <p>Now as in template, we are listing the <code>Category.id</code> and <code>Category.name</code>. We need to fetch all <code>Category</code> <strong>objects</strong> then pass them as context like we did in last example.
                    So our <code>index()</code> function will view like below:
                </p>
                <div class="highlight">
                    <pre class="prettyprint"><br/>from django.shortcuts import render<br/>from .models import Category<br/><br/>def index(request):<br/>    list_of_category_objects = Category.objects.all()<br/>    context = {<br/>        'categories': list_of_category_objects<br/>    }<br/>    return render(request,'index.html', context)
                    </pre>
                </div>
                <p>Now move to browser  at <code>http://127.0.0.1:8000/todo_app/</code> see below results.</p>
                <div class="highlight" style="text-align: center">
                    <h5>Browser: Category List (http://127.0.0.1:8000/todo_app/)</h5>
                    <img src="./assets/images/cat_list.png">
                </div>
    </main>
    </div>
</body>
    </html>