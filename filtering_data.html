<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Django Tailored</title>
        <!-- Mobile Metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

        <!-- Web Fonts  -->
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800|Shadows+Into+Light" rel="stylesheet" type="text/css">

        <!-- Vendor CSS -->
        <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.css" />
        <link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.css" />
        <link rel="stylesheet" href="assets/vendor/magnific-popup/magnific-popup.css" />
        <link rel="stylesheet" href="assets/vendor/bootstrap-datepicker/css/datepicker3.css" />

        <!-- Specific Page Vendor CSS -->
        <link rel="stylesheet" href="assets/vendor/jquery-ui/css/ui-lightness/jquery-ui-1.10.4.custom.css"/>
        <link rel="stylesheet" href="assets/vendor/bootstrap-multiselect/bootstrap-multiselect.css" />
        <link rel="stylesheet" href="assets/vendor/morris/morris.css" />

        <!-- Theme CSS -->
        <link rel="stylesheet" href="assets/css/theme.css" />

        <!-- Skin CSS -->
        <link rel="stylesheet" href="assets/css/skins/default.css" />

        <!-- Theme Custom CSS -->
        <link rel="stylesheet" href="assets/css/theme-custom.css">

        <!-- Head Libs -->
        <script src="assets/vendor/modernizr/modernizr.js"></script>
    </head>
    <body>
        <section class="body">
            <!-- start: header -->
            <header class="header">
                <div class="logo-container">
                    <a href="index.html"  class="logo">
                        <img src="assets/images/logo.png" height="35" alt="Django Tutorials" />
                    </a>
                    <div class="visible-xs toggle-sidebar-left" data-toggle-class="sidebar-left-opened" data-target="html" data-fire-event="sidebar-left-opened">
                        <i class="fa fa-bars" aria-label="Toggle sidebar"></i>
                    </div>
                </div>
            </header>
            <!-- end: header -->
            <div class="inner-wrapper">
                <!-- start: sidebar -->
                <aside id="sidebar-left" class="sidebar-left">

                    <div class="sidebar-header">
                        <div class="sidebar-title">
                            Django Tailored List
                        </div>
                        <div class="sidebar-toggle hidden-xs" data-toggle-class="sidebar-left-collapsed" data-target="html" data-fire-event="sidebar-left-toggle">
                            <i class="fa fa-bars" aria-label="Toggle sidebar"></i>
                        </div>
                    </div>

                    <div class="nano">
                        <div class="nano-content">
                            <nav id="menu" class="nav-main" role="navigation">
                                <ul class="nav nav-main">
                                    <li>
                                        <a href="index.html">
                                            <span>Installing Django</span>
                                        </a>
                                        <a href="create_project.html">
                                            <span>Create Project</span>
                                        </a>
                                        <a href="create_first_app.html">
                                            <span>Create First App</span>
                                        </a>
                                        <a href="database_connectivity.html">
                                            <span>Connectivity to Database</span>
                                        </a>
                                        <a href="create_models.html">
                                            <span>Creating Models</span>
                                        </a>
                                        <a href="activating_models.html">
                                          <span>Activating Models</span>
                                        </a>
                                        <a href="database_api.html">
                                          <span>Database API</span>
                                        </a>
                                        <a href="django_admin.html">
                                          <span>Django Admin</span>
                                        </a>
                                        <a href="django_first_view.html">
                                          <span>Django View</span>
                                        </a>
                                        <a href="filtering_data.html">
                                          <span>Filtering Data</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                    </div>

                </aside>
                <!-- end: sidebar -->
                <section role="main" class="content-body">
                    <header class="page-header">
                        <h2>Filtering Database Results</h2>
                    </header>
                    <style>
                        .highlight {
                            font-size: 14px;
                            font-size: 1.4rem;
                            border: 1px solid #EAEAEA;
                            background: #F4F4F4;
                            background: #f8f8f8;
                            overflow: auto;
                            border-radius: 4px;
                            margin: 25px 0;
                        }
                        p{
                            font-size: 18px;
                            padding-left: 40px;
                            padding-right: 40px;
                        }
                        .body-ul{
                            margin-left: 80px;
                            font-size: 16px;
                        }
                        .code-block-caption {
                            background: #34495e;
                            color: white;
                            font-family: "Fira Mono", Consolas, Menlo, Monaco, "Courier New", Courier, monospace;
                            font-variant-ligatures: no-common-ligatures;
                            text-rendering: optimizeSpeed;
                            font-size: 1em;
                            padding: 5px 20px;
                            border-radius: 4px 4px 0 0;
                        }
                    </style>
                    <h1>Filtering Database Results:-</h1>
                    <p>Once you have created the database models. You can use django provided database-abstract API to
                        Create, Update, Retrieve and Delete data inside database. Apart from that django also provide
                        different APIs to get our desired data, in desired order and much more, which is explained
                        below:</p>
                    <p><span><strong>Note:</strong></span> All the queries are executed using the model we created in
                        lesson 5. Also, the queries will be executed on shell. To start shell execute
                        "python manage.py shell" on terminal.</p>
                    <h1>Creating Data</h1>
                    <p>To represent database table python use model class and to represent a record in database table
                        python use the instance of that model class.</p>
                    <p>To create a record initiate the model class object with required arguments and then call .save()
                        method on it to save that object in database.
                    </p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> from todo_app.models import Category, Item</span>
                                <span class="n">>>> from django.utils import timezone</span>
                                <span class="n">>>> c = Category(name="Bills", pub_date=timezone.now())</span>
                                <span class="n">>>> c.save()</span>
                            </pre>
                        </div>
                    </div>
                    <p>The above code will perform an INSERT operation on database. Django does not save data in
                        database automatically until we explicitly call the .save() method on the instance.</p>
                    <h1>Changing the Data</h1>
                    <p>To change data in the saved object we have to access the field name with a dot(.) and assign new
                    value and then again call .save() method.</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> c.name = 'New Name'</span>
                                <span class="n">>>> c.save()</span>
                            </pre>
                        </div>
                    </div>
                    <h1>Adding foreign key</h1>
                    <p>Adding foreign key reference is almost same as that of adding another field data. Except here we
                        need to pass an object of right type i.e. to assign a foreign key reference in Item object we
                        need to pass an object of Item type. Demonstrated below:
                    </p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> i = Item(text='Electricity Bill')</span>
                                <span class="n">>>> i.category = c</span>
                                <span class="n">>>> i.save()</span>
                            </pre>
                        </div>
                    </div>
                    <h1>Retrieving all objects</h1>
                    <p>To get all data from the database django provide .all() method that can be used on any django
                        model through the manager:</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> all = Category.objects.all()</span>
                            </pre>
                        </div>
                    </div>
                    <p>The all() method returns a QuerySet of all the objects in the database.</p>
                    <h1>Filter Specific Objects</h1>
                    <p>To filter desired specific objects django provide .filter() method to which we can pass field and
                        value upon which we want to filter data.</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> filtered = Category.objects.filter(name='Bills')</span>
                            </pre>
                        </div>
                    </div>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> filtered_upon_date = Category.objects.filter(pub_date__year=2021)
                                </span>
                            </pre>
                        </div>
                    </div>
                    <h1>Filter Single Object</h1>
                    <p>To filter a single object from database django provide .get() method</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> single_object = Category.objects.get(name='Bills')
                                </span>
                            </pre>
                        </div>
                    </div>
                    <h1>Limiting QuerySets</h1>
                    <p>If you want a subset of Query set you can limit the data using python index slicing:</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> sliced_objects = Category.objects.all()[:5]
                                </span>
                            </pre>
                        </div>
                    </div>
                    <p>The above query will get starting 5 objects.</p>
                    <h1>Ordering</h1>
                    <p>Sometime you need to access data in specified order. For example if you want Category data in
                        ascending order of pub_date you can use:
                    </p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> sliced_objects = Category.objects.all().order_by('pub_date')
                                </span>
                            </pre>
                        </div>
                    </div>
                    <p>To get data in descending order of pub_date add a hyphen like:</p>
                    <div class="highlight-default notranslate" style="padding: 0px 40px 40px 40px">
                        <div class="highlight">
                            <pre style="position: relative;">
                                <span></span>
                                <span class="n">>>> sliced_objects = Category.objects.all().order_by('-pub_date')
                                </span>
                            </pre>
                        </div>
                    </div>
                </section>


        <!-- Vendor -->
        <script src="assets/vendor/jquery/jquery.js"></script>
        <script src="assets/vendor/jquery-browser-mobile/jquery.browser.mobile.js"></script>
        <script src="assets/vendor/bootstrap/js/bootstrap.js"></script>
        <script src="assets/vendor/nanoscroller/nanoscroller.js"></script>
        <script src="assets/vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
        <script src="assets/vendor/magnific-popup/magnific-popup.js"></script>
        <script src="assets/vendor/jquery-placeholder/jquery.placeholder.js"></script>

        <!-- Specific Page Vendor -->
        <script src="assets/vendor/jquery-ui/js/jquery-ui-1.10.4.custom.js"></script>
        <script src="assets/vendor/jquery-ui-touch-punch/jquery.ui.touch-punch.js"></script>
        <script src="assets/vendor/jquery-appear/jquery.appear.js"></script>
        <script src="assets/vendor/bootstrap-multiselect/bootstrap-multiselect.js"></script>
        <script src="assets/vendor/jquery-easypiechart/jquery.easypiechart.js"></script>
        <script src="assets/vendor/flot/jquery.flot.js"></script>
        <script src="assets/vendor/flot-tooltip/jquery.flot.tooltip.js"></script>
        <script src="assets/vendor/flot/jquery.flot.pie.js"></script>
        <script src="assets/vendor/flot/jquery.flot.categories.js"></script>
        <script src="assets/vendor/flot/jquery.flot.resize.js"></script>
        <script src="assets/vendor/jquery-sparkline/jquery.sparkline.js"></script>
        <script src="assets/vendor/raphael/raphael.js"></script>
        <script src="assets/vendor/morris/morris.js"></script>
        <script src="assets/vendor/gauge/gauge.js"></script>
        <script src="assets/vendor/snap-svg/snap.svg.js"></script>
        <script src="assets/vendor/liquid-meter/liquid.meter.js"></script>
        <script src="assets/vendor/jqvmap/jquery.vmap.js"></script>
        <script src="assets/vendor/jqvmap/data/jquery.vmap.sampledata.js"></script>
        <script src="assets/vendor/jqvmap/maps/jquery.vmap.world.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.africa.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.asia.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.australia.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.europe.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.north-america.js"></script>
        <script src="assets/vendor/jqvmap/maps/continents/jquery.vmap.south-america.js"></script>

        <!-- Theme Base, Components and Settings -->
        <script src="assets/js/theme.js"></script>

        <!-- Theme Custom -->
        <script src="assets/js/theme.custom.js"></script>

        <!-- Theme Initialization Files -->
        <script src="assets/js/theme.init.js"></script>

        <script>
            $('document').ready(function (){
                $('#home-drop-down').addClass('nav-active nav-expanded');
                $('#create-first-app').addClass('nav-active');
            });
        </script>
    </body>
</html>